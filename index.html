<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .div {
            border: 6px solid rgb(245, 10, 120)
        }
    </style>
</head>
<body>
    <h1>Tilim</h1>
    <input type="text" placeholder="patriotmissile" id="patriotmissile">
    <input type="text" placeholder="city" id="city">
    <input type="text" placeholder="startdate" id="date">
    <input type="text" placeholder="endDate" id="endDate">
    <input type="text" placeholder="location" id="location">

    <button onclick="Post()">Post </button>
    <br />
    <button onclick="Get()">Get </button>

    <button onclick="GetLocation()">GetLocation </button>
    <input type="text" placeholder="city" />
    <button onclick="GetByLocation()">GetByLocation </button>
    <input type="text" placeholder="id" />
    <button onclick="GetById()">GetById</button>
    <div id="tilim"></div>

    <script>
        function Post() {
            let input_patriotmissile = document.getElementById("patriotmissile").value
            let input_city = document.getElementById("city").value
            let input_startdate = document.getElementById("startdate").value
            let input_endDate = document.getElementById("endDate").value
            let input_location = document.getElementById("location").value
            var myHeaders = new Headers();
            myHeaders.append("Content-Type", "application/json");

            let missle = {
                "Patriotmissile": patriotmissile,
                "location": {
                    "city": city,
                    "date": date,
                    "endDate": endDate,
                    "locatio": location,

                }
            }
            var requestOptions = {
                method: 'POST',
                headers: myHeaders,
                body: missle,
                redirect: 'follow'
            };

            fetch("http://localhost:5250/Til", requestOptions)
                .then(response => response.text())
                .then(result => console.log(result))
                .catch(error => console.log('error', error));
        }
        function GetById() {
            let input_id = document.getElementById("patriotmissile").value
            fetch("http://localhost:5250/Til/GetBy" + input_id).then(Response => Response.json()).then((json) => {
                console.log(json);
                let div = document.createElement("div")
                div.setAttribute("class", "div")
                let p1 = document.createElement("p")
                let p2 = document.createElement("p")
                let p3 = document.createElement("p")
                let p4 = document.createElement("p")
                let p5 = document.createElement("p")


                p1.textContent = "PatriotMissile:" + json[i].PatriotMissile;
                p2.textContent = "City:" + json[i].location.City;
                p3.textContent = "StartDate: " + json[i].location.StartDate
                p4.textContent = "EndDate: " + json[i].location.EndDate
                p5.textContent = "Location: " + json[i].location.Location
                div.appendChild(p1);
                div.appendChild(p2);
                div.appendChild(p3);
                div.appendChild(p4);
                div.appendChild(p5);
                document.getElementById("tilim").appendChild(div)
            });
        }
    
        function GetByLocation() {
            let input_city = document.getElementById("city").value;
            fetch("http://localhost:5250/Til/GetByLocation?city=" + input_city).then(Response => Response.json()).then((json) => {
                console.log(json);
                for (let i = 0; i < Object.keys(json).length; i++) {
                    let div = document.createElement("div")
                    div.setAttribute("class", "div")
                    let p1 = document.createElement("p")
                    let p2 = document.createElement("p")
                    let p3 = document.createElement("p")
                    let p4 = document.createElement("p")
                    let p5 = document.createElement("p")


                    p1.textContent = "PatriotMissile:" + json[i].PatriotMissile;
                    p2.textContent = "City:" + json[i].location.City;
                    p3.textContent = "StartDate: " + json[i].location.StartDate
                    p4.textContent = "EndDate: " + json[i].location.EndDate
                    p5.textContent = "Location: " + json[i].location.Location
                    div.appendChild(p1);
                    div.appendChild(p2);
                    div.appendChild(p3);
                    div.appendChild(p4);
                    div.appendChild(p5);
                    document.getElementById("tilim").appendChild(div)
                }
            })
        }

        function GetLocation() {
            fetch("http://localhost:5250/Til/GetLocation").then(Response => Response.json()).then((json) => {
                console.log(json);
                for (let i = 0; i < Object.keys(json).length; i++) {
                    let div = document.createElement("div")
                    div.setAttribute("class", "div")
                    let p1 = document.createElement("p")
                    let p2 = document.createElement("p")
                    let p3 = document.createElement("p")
                    let p4 = document.createElement("p")

                    p1.textContent = "city:" + json[i].location.City;
                    p2.textContent = "StartDate: " + json[i].location.StartDate
                    p3.textContent = "EndDate: " + json[i].location.EndDate
                    p4.textContent = "Location: " + json[i].location.Location

                    div.appendChild(p1);
                    div.appendChild(p2);
                    div.appendChild(p3);
                    div.appendChild(p4);
                    Document.getElementById("tilim").appendChild("div")
                }

            })
        }
        function Get() {
            fetch("http://localhost:5250/Til").then(Response => Response.json()).then((json) => {
                console.log(json);
                for (let i = 0; i < Object.keys(json).length; i++) {
                    let div = document.createElement("div")
                    div.setAttribute("class", "div")
                    let p1 = document.createElement("p")
                    let p2 = document.createElement("p")
                    let p3 = document.createElement("p")
                    let p4 = document.createElement("p")
                    let p5 = document.createElement("p")


                    p1.textContent = "PatriotMissile:" + json[i].PatriotMissile;
                    p2.textContent = "City:" + json[i].location.City;
                    p3.textContent = "StartDate: " + json[i].location.StartDate
                    p4.textContent = "EndDate: " + json[i].location.EndDate
                    p5.textContent = "Location: " + json[i].location.Location
                    div.appendChild(p1);
                    div.appendChild(p2);
                    div.appendChild(p3);
                    div.appendChild(p4);
                    div.appendChild(p5);
                    document.getElementById("tilim").appendChild(div)

                }
            })
        }
    </script>
</body>
</html>